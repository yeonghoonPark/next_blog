---
title: SHOPTIME
description: SHOPTIME webOS Application Enhancement Project
category: Project
thumbnail: /image/reflections/shoptime.jpg
createdAt: 2024-09-21
---

---

## # 목차

- [# 프로젝트 개요](#-프로젝트-개요)
- [# 사용 기술](#-사용-기술)
- [# 잘한 점](#-잘한-점)
- [# 어려웠던 점](#-어려웠던-점)
- [# 아쉬웠던 점](#-아쉬웠던-점)
- [# 마무리](#-마무리)

---

## # 프로젝트 개요

[# 목차](#-목차)

### 🗓️ 기간

- _2024.01 ~ 2024.07 (6개월)_

### 🎯 목적

- _webOS SHOPTIME 애플리케이션 전략적 고도화_  
  ◦ &nbsp; v1.0 → v2.0 고도화  
  ◦ &nbsp; Vue.js 프레임워크 기반 SPA 아키텍처를 React.js 라이브러리로 마이그레이션 하여, 유연하고 확장성 높은 프론트엔드 구조 구축  
  ◦ &nbsp; 신규 기능 및 서비스 요구사항에 따른 기술 현대화

### 🏆 목표

- _글로벌 멀티마켓 환경에서의 안정적 서비스 확장 및 호환성 강화_  
  ◦ &nbsp; 4개국 (독일, 미국, 영국, 러시아) 동시 오픈  
  ◦ &nbsp; 프로젝트 일정에 수렴하여 DE, EN, GB, RU 네 개 주요 국가 동시 론칭

- _브라우저 호환성 및 성능 최적화_  
  ◦ &nbsp; 모던 브라우저 환경뿐 아니라 구형 브라우저 환경에서도 원활한 서비스 제공  
  ◦ &nbsp; 다양한 환경에서의 안정적 동작 및 사용자 경험(UX) 향상

---

## # 사용 기술

[# 목차](#-목차)

### 📚 UI

- _Enact (React.js 기반 프레임워크)_

  <a href="https://enactjs.com/" target="_black" rel="noopener noreferrer">
    Enact.js 🔗
  </a>

  ◦ &nbsp; webOS 환경 특화 프레임워크로, 리모컨 기반의 TV 및 임베디드<sup>(Embedded)</sup> 디바이스에 최적화된 사용자 경험 제공  
  ◦ &nbsp; 고성능, 접근성, 확장성을 고려한 컴포넌트 기반 아키텍처  
  ◦ &nbsp; 빠른 애플리케이션 개발 및 유지보수를 위한 다양한 내장 모듈과 툴 지원

### ⚙️ 상태 관리

- _Redux & Redux Thunk_

  <a href="https://redux.js.org/" target="_black" rel="noopener noreferrer">
    Redux 🔗
  </a>

  ◦ &nbsp; 복잡한 글로벌 상태 관리 및 비동기 데이터 흐름을 제어하기 위한 채택  
  ◦ &nbsp; 구형 브라우저 및 다양한 레거시 환경에서의 확장성 보장을 위해 검증된 기술 스택 도입  
  ◦ &nbsp; 보일러플레이트(반복 코드) 증가 및 복잡도 상승이라는 단점이 있으나, 다양한 환경을 지원하는 프로젝트 특성상, 장기적 안정성과 확장성을 위한 불가피한 선택

### 🎨 스타일

- _LESS (Leaner Style Sheets)_

  <a href="https://lesscss.org/" target="_black" rel="noopener noreferrer">
    LESS 🔗
  </a>

  ◦ &nbsp; Enact 프레임워크에 내장된 CSS 전처리기  
  ◦ &nbsp; 빌드타임에 CSS로 컴파일되어, 런 타임 성능 저하 없이 안정적으로 빠른 스타일 적용  
  ◦ &nbsp; 변수, 중첩, 믹스 인, 상속, 연산 등 다양한 기능을 통해 코드 재사용성 및 유지보수성 증대

---

## # 잘한 점

[# 목차](#-목차)

### 🎁 기술적 성과

- _참조 값 최적화를 통한 렌더링 성능 개선_  
  ◦ &nbsp; 컴포넌트로 전달되는 `props`의 참조 값을 고정하여, 불필요한 리 렌더링을 효과적으로 방지  
  ◦ &nbsp; 초기 렌더링 속도를 평균 약 500ms 단축, 사용자 경험 및 애플리케이션 반응성 향상

- _모듈화 및 재사용성 향상_  
  ◦ &nbsp; 반복되는 코드 로직을 커스텀 훅으로 추출하여 모듈화  
  ◦ &nbsp; 유지보수성과 확장성을 크게 높이고, 코드 중복 최소화 및 일관된 비즈니스 로직 구현

### 👾 개인적 성장

- _리엑트 생태계 심화 학습 및 실무 적용_  
  ◦ &nbsp; 리엑트의 라이프사이클과 Hook API에 대한 이해를 바탕으로, 현대적으로 효율적인 컴포넌트 설계 역량 강화  
  ◦ &nbsp; 커스텀 훅 활용을 통한 코드 품질 개선

  ```javascript
  export default function useScrollTopByDistance() {
    const jobRef = useRef(new Job((func) => func(), 0));

    const scrollTopByDistance = useCallback(
      (markerSelector, targetSelector, scrollTop, gap = 0) => {
        try {
          const marker = document.querySelector(markerSelector);
          const target = document.querySelector(targetSelector);

          if (!marker || !target) {
            return new Error("marker or target not found");
          }

          const markerRect = marker.getBoundingClientRect();
          const targetRect = target.getBoundingClientRect();
          const distance = targetRect.top - markerRect.top - scaleH(gap);
          const y = distance >= 0 ? distance : 0;

          jobRef.current.start(() => scrollTop({ y }));
        } catch (error) {
          console.warn(`[scrollTopByDistance]: ${error.message}`);
        }
      },
      [],
    );

    useEffect(() => {
      return () => jobRef.current.stop();
    }, []);

    return { scrollTopByDistance };
  }
  ```

  ◦ &nbsp; 반복되는 로직을 추상화하여 커스텀 훅으로 구현, 유지보수성 및 확장성 높은 설계 경험  
  ◦ &nbsp; 팀 내 코드 품질 표준화 및 협업 효율성 증대에 기여

---

## # 어려웠던 점

[# 목차](#-목차)

### 🧶 구형 브라우저 환경 대응 및 기술적 도전

- _리모컨 환경에서의 사용자 경험 보장_  
  ◦ &nbsp; 리모컨 기반의 TV 환경 특성상, 항상 클라이언트에게 현재 포커스 위치를 명확하게 시각적으로 전달해야 하는 요구사항 존재

- _구형 브라우저의 렌더링 및 Paint 시점 이슈_  
  ◦ &nbsp; 구형 브라우저 환경에서 초기 렌더링 시, DOM 업데이트와 Paint 시점이 일치하지 않아 포커스 이동 시점에 실제 DOM에 접근하지 못하는 현상 발생  
  ◦ &nbsp; 이에 따라 포커스 위치 표시 및 사용자 인터랙션 지연 발생

- _초기 해결 방안 및 한계_

  ```javascript
  const findSelector = (selector, maxAttempts = 5, currentAttempts = 0) => {
    try {
      if (currentAttempts >= maxAttempts) {
        throw new Error("selector not found");
      }

      const initialSelector = document.querySelector(selector);

      return (
        initialSelector ??
        findSelector(selector, maxAttempts, currentAttempts + 1)
      );
    } catch (error) {
      console.warn(`[findSelector]: ${error.message}`);
    }
  };
  ```

  ◦ &nbsp; 재귀 함수를 활용하여 DOM 엘리먼트를 반복적으로 탐색하는 방식으로 대응  
  ◦ &nbsp; 다만, 네트워크 환경이나 메모리 점유율 등의 외부 변수에 따라 탐색 실패 및 오작동 가능성 존재

- _향후 개선 방향_

  ```javascript
  useEffect(() => {
    if (typeof window === "object" && window.MutationObserver) {
      const observer = new window.MutationObserver((mutations) => {
        for (let index = mutations.length; index--; ) {
          if (mutations[index].type === "childList") {
            countRef.current = containerRef.current?.children.length || 0;
          }
        }
      });

      if (containerRef.current) {
        observer.observe(containerRef.current, { childList: true });
      }

      return () => observer.disconnect();
    }
  }, []);
  ```

  ◦ &nbsp; 보다 안정적으로 보장된 DOM 접근을 위해, 윈도우 객체인 `MutationObserver`를 활용하여 실시간 DOM 변화 감지 기술 도입  
  ◦ &nbsp; 구형 브라우저 환경에서 재귀 함수보다 부하가 클 수 있으나, 사용자 경험 개선을 위한 검토 및 적용

---

## # 아쉬웠던 점

[# 목차](#-목차)

### 💾 하드웨어 한계 및 메모리 관리

- _제한된 하드웨어 리소스_  
  ◦ &nbsp; TV에 내장된 4GB 메모리라는 한정된 하드웨어 환경에서, 실제 애플리케이션에 할당되는 메모리는 이보다 더 적을 것으로 예상  
  ◦ &nbsp; 대형 웹 애플리케이션을 운영하면서 메모리 부족으로 인한 성능 저하 및 사용자 경험 저하의 우려를 경험

### 📑 로그 작업 및 패턴 선택

- _사용자 트래킹 및 데이터 추적 로직 설계_  
  ◦ &nbsp; 사용자 행동 로그 수집 및 트래킹 작업에서 유연성과 빠른 개발을 위해 Factory Method Pattern을 활용하여 설계함  
  ◦ &nbsp; 그러나 실제 운영 환경에서의 성능 및 메모리 점유율을 고려할 때, Singleton Pattern을 활용해 인스턴스 생성 횟수를 제한하여 메모리 사용량을 낮춤으로써 사용자 경험에 집중하는 것이 효과적이었을 수 있다는 아쉬움이 남음

- _성능과 유연성의 균형_  
  ◦ &nbsp; 빠른 개발과 유연성 확보에 초점을 맞추다 보니, 메모리 및 성능 측면의 최적화가 다소 미흡했던 점  
  ◦ &nbsp; 향후에는 설계 시, 디자인 패턴이나 알고리즘 학습을 통해 유연성과 성능, 메모리 효율성의 균형을 면밀히 고려할 필요성을 느낌

---

## # 마무리

[# 목차](#-목차)

SHOPTIME webOS 애플리케이션 고도화 프로젝트는 단순한 기능 개선을 넘어, 글로벌 환경에서의 서비스 확장성과 다양한 디바이스 호환성을 실질적으로 확보하는 소중한 경험이었습니다.
리엑트 생태계와 최신 아키텍처를 실무에 적용하면서, 커스텀 훅 추상화, 상태 관리, 레거시 환경 대응 등 여러 기술적 도전을 직접 경험할 수 있었던 점이 특별했습니다.
비록 제한된 하드웨어 리소스와 구형 브라우저 대응 등 쉽지 않은 과제들도 있었지만, 이를 헤쳐 나가는 과정에서 문제 해결력과 시스템적 사고가 한층 성장했다고 느낍니다.
아쉬웠던 부분과 얻은 인사이트는 앞으로의 프로젝트에서 더 나은 설계와 효율적인 개발로 이어질 수 있는 밑거름이 되리라 생각합니다.

_# references_
